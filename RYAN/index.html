<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>股票合理估值計算機</title>
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* 隱藏未選中的 Tab 內容 */
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        /* 簡單的淡入動畫 */
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-slate-50 min-h-screen font-sans text-slate-800">

    <div class="max-w-4xl mx-auto p-4 space-y-8">
        
        <!-- Header -->
        <header class="text-center space-y-2 py-6">
            <div class="inline-flex items-center justify-center p-3 bg-blue-600 rounded-full text-white shadow-lg mb-2">
                <i data-lucide="calculator" class="w-8 h-8"></i>
            </div>
            <h1 class="text-3xl font-bold text-slate-900">股票合理估值計算機</h1>
            <p class="text-slate-600">選擇適合的模型，輸入數值，快速算出目標價</p>
        </header>

        <!-- Search Section -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex flex-col md:flex-row gap-4 items-center justify-between">
                <div class="w-full md:w-1/2 relative">
                    <label class="block text-sm font-medium text-slate-700 mb-1">股票代號快速查詢</label>
                    <div class="relative">
                        <input type="text" id="search-input" placeholder="輸入代號 (例如: 2330, 2317)" 
                               class="w-full pl-10 p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all">
                        <i data-lucide="search" class="absolute left-3 top-3.5 text-slate-400 w-5 h-5"></i>
                    </div>
                    <p class="text-xs text-slate-500 mt-1">* 本地模擬資料庫，支援常見熱門股</p>
                </div>

                <div class="w-full md:w-1/2 flex items-center gap-4 h-full pt-6" id="search-result-container">
                    <!-- JavaScript 會動態控制這裡的顯示內容 -->
                    <div id="no-match" class="hidden flex-1 bg-slate-100 border border-slate-200 rounded-lg p-3 text-slate-400 text-sm text-center">
                        未找到該代號資料
                    </div>
                    <div id="match-found" class="hidden flex-1 bg-green-50 border border-green-200 rounded-lg p-3 flex items-center justify-between fade-in">
                        <div class="flex items-center gap-2">
                            <div class="bg-green-500 text-white text-xs font-bold px-2 py-1 rounded">MATCH</div>
                            <span class="font-bold text-green-800 text-lg" id="stock-name-display">台積電 (2330)</span>
                        </div>
                        <button onclick="autoFill()" class="text-sm bg-white border border-green-300 text-green-700 px-3 py-1 rounded hover:bg-green-100 flex items-center gap-1 transition-colors cursor-pointer">
                            <i data-lucide="refresh-cw" class="w-3.5 h-3.5"></i> 帶入數據
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Method Comparison Table -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
            <div class="bg-slate-100 px-6 py-4 border-b border-slate-200 flex items-center gap-2">
                <i data-lucide="book-open" class="text-blue-600 w-5 h-5"></i>
                <h2 class="text-lg font-semibold">估值方法對照表</h2>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left">
                    <thead class="text-xs text-slate-500 uppercase bg-slate-50">
                        <tr>
                            <th class="px-6 py-3 whitespace-nowrap">估值方法</th>
                            <th class="px-6 py-3 whitespace-nowrap">適用公司類型</th>
                            <th class="px-6 py-3 whitespace-nowrap">核心公式</th>
                            <th class="px-6 py-3 min-w-[200px]">說明</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-100">
                        <tr class="bg-white hover:bg-slate-50 transition-colors">
                            <td class="px-6 py-4 font-medium text-blue-600">本益比法 (P/E)</td>
                            <td class="px-6 py-4">獲利穩定的成熟股</td>
                            <td class="px-6 py-4 font-mono text-xs bg-slate-50 rounded w-max">股價 = EPS × 合理倍數</td>
                            <td class="px-6 py-4">最常見，但不適用虧損公司。</td>
                        </tr>
                        <tr class="bg-white hover:bg-slate-50 transition-colors">
                            <td class="px-6 py-4 font-medium text-blue-600">股價淨值比法 (P/B)</td>
                            <td class="px-6 py-4">景氣循環股、金融股</td>
                            <td class="px-6 py-4 font-mono text-xs bg-slate-50 rounded w-max">股價 = 每股淨值 × 合理倍數</td>
                            <td class="px-6 py-4">當獲利不穩時，看資產(淨值)較安全。</td>
                        </tr>
                        <tr class="bg-white hover:bg-slate-50 transition-colors">
                            <td class="px-6 py-4 font-medium text-blue-600">股價營收比法 (P/S)</td>
                            <td class="px-6 py-4">新創、高成長未獲利股</td>
                            <td class="px-6 py-4 font-mono text-xs bg-slate-50 rounded w-max">股價 = 每股營收 × 合理倍數</td>
                            <td class="px-6 py-4">看市場佔有率與營收規模。</td>
                        </tr>
                        <tr class="bg-white hover:bg-slate-50 transition-colors">
                            <td class="px-6 py-4 font-medium text-blue-600">葛拉漢定價法</td>
                            <td class="px-6 py-4">傳產、價值被低估股</td>
                            <td class="px-6 py-4 font-mono text-xs bg-slate-50 rounded w-max">√(22.5 × EPS × 每股淨值)</td>
                            <td class="px-6 py-4">保守型投資，同時看獲利與淨值。</td>
                        </tr>
                        <tr class="bg-white hover:bg-slate-50 transition-colors">
                            <td class="px-6 py-4 font-medium text-blue-600">股利折現模型 (DDM)</td>
                            <td class="px-6 py-4">配息穩定的定存股</td>
                            <td class="px-6 py-4 font-mono text-xs bg-slate-50 rounded w-max">股價 = 股利 ÷ (折現率 - 成長率)</td>
                            <td class="px-6 py-4">假設價值來自於未來領到的股息。</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Calculators Section -->
        <section class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden">
            <!-- Tabs Navigation -->
            <div class="flex overflow-x-auto border-b border-slate-200 hide-scrollbar">
                <button onclick="switchTab('PE')" id="tab-btn-PE" class="tab-btn flex-1 min-w-[120px] py-4 px-2 text-sm font-medium flex flex-col items-center gap-2 transition-colors duration-200 text-blue-600 border-b-2 border-blue-600 bg-blue-50">
                    <i data-lucide="trending-up" class="w-5 h-5"></i> 本益比估價
                </button>
                <button onclick="switchTab('PB')" id="tab-btn-PB" class="tab-btn flex-1 min-w-[120px] py-4 px-2 text-sm font-medium flex flex-col items-center gap-2 transition-colors duration-200 text-slate-500 hover:text-slate-700 hover:bg-slate-50">
                    <i data-lucide="book-open" class="w-5 h-5"></i> 股價淨值比
                </button>
                <button onclick="switchTab('PS')" id="tab-btn-PS" class="tab-btn flex-1 min-w-[120px] py-4 px-2 text-sm font-medium flex flex-col items-center gap-2 transition-colors duration-200 text-slate-500 hover:text-slate-700 hover:bg-slate-50">
                    <i data-lucide="activity" class="w-5 h-5"></i> 股價營收比
                </button>
                <button onclick="switchTab('Graham')" id="tab-btn-Graham" class="tab-btn flex-1 min-w-[120px] py-4 px-2 text-sm font-medium flex flex-col items-center gap-2 transition-colors duration-200 text-slate-500 hover:text-slate-700 hover:bg-slate-50">
                    <i data-lucide="dollar-sign" class="w-5 h-5"></i> 葛拉漢公式
                </button>
                <button onclick="switchTab('DDM')" id="tab-btn-DDM" class="tab-btn flex-1 min-w-[120px] py-4 px-2 text-sm font-medium flex flex-col items-center gap-2 transition-colors duration-200 text-slate-500 hover:text-slate-700 hover:bg-slate-50">
                    <i data-lucide="calculator" class="w-5 h-5"></i> 股利折現
                </button>
            </div>

            <div class="p-6 md:p-8">
                
                <!-- PE Calculator -->
                <div id="content-PE" class="tab-content active fade-in space-y-6">
                    <div class="bg-blue-50 p-4 rounded-lg text-sm text-blue-800 flex gap-2">
                        <i data-lucide="info" class="shrink-0 mt-0.5 w-4 h-4"></i>
                        <p>
                            公式：<strong>合理股價 = 預估 EPS × 合理本益比</strong><br/>
                            建議輸入「未來一年的預估 EPS」以及該股票「過去 3-5 年的平均本益比區間」。
                        </p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">每股盈餘 (EPS)</label>
                                <input type="number" id="pe-eps" oninput="calculatePE()" placeholder="例如: 10" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">合理本益比倍數 (P/E)</label>
                                <input type="number" id="pe-ratio" oninput="calculatePE()" placeholder="例如: 15" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                            </div>
                        </div>
                        <div class="bg-slate-900 text-white rounded-xl p-6 flex flex-col justify-center items-center text-center shadow-lg">
                            <span class="text-slate-400 text-sm uppercase tracking-wider mb-2">試算目標價</span>
                            <span id="pe-result" class="text-4xl font-bold text-green-400">---</span>
                        </div>
                    </div>
                </div>

                <!-- PB Calculator -->
                <div id="content-PB" class="tab-content fade-in space-y-6">
                    <div class="bg-blue-50 p-4 rounded-lg text-sm text-blue-800 flex gap-2">
                        <i data-lucide="info" class="shrink-0 mt-0.5 w-4 h-4"></i>
                        <p>
                            公式：<strong>合理股價 = 每股淨值 × 合理股價淨值比</strong><br/>
                            適合用於獲利不穩定但資產價值明確的公司（如鋼鐵、航運、金融）。
                        </p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">每股淨值 (NAV)</label>
                                <input type="number" id="pb-nav" oninput="calculatePB()" placeholder="例如: 25.5" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">合理股價淨值比 (P/B)</label>
                                <input type="number" id="pb-ratio" oninput="calculatePB()" placeholder="例如: 1.2" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                            </div>
                        </div>
                        <div class="bg-slate-900 text-white rounded-xl p-6 flex flex-col justify-center items-center text-center shadow-lg">
                            <span class="text-slate-400 text-sm uppercase tracking-wider mb-2">試算目標價</span>
                            <span id="pb-result" class="text-4xl font-bold text-green-400">---</span>
                        </div>
                    </div>
                </div>

                <!-- PS Calculator -->
                <div id="content-PS" class="tab-content fade-in space-y-6">
                    <div class="bg-blue-50 p-4 rounded-lg text-sm text-blue-800 flex gap-2">
                        <i data-lucide="info" class="shrink-0 mt-0.5 w-4 h-4"></i>
                        <p>
                            公式：<strong>合理股價 = 每股營收 × 合理股價營收比</strong><br/>
                            適用於尚未獲利但營收成長快速的新創公司。
                        </p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">每股營收 (Sales Per Share)</label>
                                <input type="number" id="ps-sales" oninput="calculatePS()" placeholder="總營收 ÷ 總股數" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">合理股價營收比 (P/S)</label>
                                <input type="number" id="ps-ratio" oninput="calculatePS()" placeholder="例如: 4.5" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                            </div>
                        </div>
                        <div class="bg-slate-900 text-white rounded-xl p-6 flex flex-col justify-center items-center text-center shadow-lg">
                            <span class="text-slate-400 text-sm uppercase tracking-wider mb-2">試算目標價</span>
                            <span id="ps-result" class="text-4xl font-bold text-green-400">---</span>
                        </div>
                    </div>
                </div>

                <!-- Graham Calculator -->
                <div id="content-Graham" class="tab-content fade-in space-y-6">
                    <div class="bg-blue-50 p-4 rounded-lg text-sm text-blue-800 flex gap-2">
                        <i data-lucide="info" class="shrink-0 mt-0.5 w-4 h-4"></i>
                        <p>
                            公式：<strong>合理價 = √(22.5 × EPS × 每股淨值)</strong><br/>
                            這是價值投資之父葛拉漢提出的保守估值法，假設合理本益比 15 倍 × 合理淨值比 1.5 倍 = 22.5。
                        </p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">每股盈餘 (EPS)</label>
                                <input type="number" id="graham-eps" oninput="calculateGraham()" placeholder="例如: 5" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">每股淨值 (NAV)</label>
                                <input type="number" id="graham-nav" oninput="calculateGraham()" placeholder="例如: 40" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                            </div>
                        </div>
                        <div class="bg-slate-900 text-white rounded-xl p-6 flex flex-col justify-center items-center text-center shadow-lg">
                            <span class="text-slate-400 text-sm uppercase tracking-wider mb-2">葛拉漢合理價</span>
                            <span id="graham-result" class="text-4xl font-bold text-green-400">---</span>
                        </div>
                    </div>
                </div>

                <!-- DDM Calculator -->
                <div id="content-DDM" class="tab-content fade-in space-y-6">
                    <div class="bg-blue-50 p-4 rounded-lg text-sm text-blue-800 flex gap-2">
                        <i data-lucide="info" class="shrink-0 mt-0.5 w-4 h-4"></i>
                        <p>
                            公式 (高登模型)：<strong>股價 = 明年股利 ÷ (折現率 - 成長率)</strong><br/>
                            注意：折現率 (您期望的報酬率) 必須大於 股利成長率，否則公式無效。
                        </p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">預估明年股利 (D1)</label>
                                <input type="number" id="ddm-dividend" oninput="calculateDDM()" placeholder="例如: 3.5" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">折現率 (期望報酬率 %)</label>
                                <input type="number" id="ddm-rate" oninput="calculateDDM()" placeholder="通常設 5~10，例如: 8" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">股利長期成長率 (%)</label>
                                <input type="number" id="ddm-growth" oninput="calculateDDM()" placeholder="保守估計，例如: 3" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                            </div>
                        </div>
                        <div class="bg-slate-900 text-white rounded-xl p-6 flex flex-col justify-center items-center text-center shadow-lg">
                            <span class="text-slate-400 text-sm uppercase tracking-wider mb-2">試算目標價</span>
                            <span id="ddm-result" class="text-4xl font-bold text-green-400">---</span>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center text-slate-500 text-sm pb-8">
            <p>免責聲明：本工具僅供教學與試算使用，不代表任何投資建議。投資一定有風險，投資前請務必自行評估。</p>
        </footer>

    </div>

    <!-- JavaScript Logic -->
    <script>
        // 初始化 Icons
        lucide.createIcons();

        // 模擬資料庫
        const MOCK_STOCK_DB = {
            '2330': { name: '台積電', eps: 42.0, nav: 140, dividend: 14, sales: 105, pe_range: 20, pb_range: 5 },
            '2317': { name: '鴻海', eps: 10.5, nav: 108, dividend: 5.5, sales: 450, pe_range: 12, pb_range: 1.2 },
            '2454': { name: '聯發科', eps: 55.0, nav: 280, dividend: 40, sales: 300, pe_range: 18, pb_range: 4 },
            '2303': { name: '聯電', eps: 4.8, nav: 28, dividend: 3.0, sales: 18, pe_range: 12, pb_range: 1.5 },
            '2002': { name: '中鋼', eps: 1.2, nav: 20, dividend: 1.0, sales: 25, pe_range: 15, pb_range: 1.1 },
            '2412': { name: '中華電', eps: 4.8, nav: 48, dividend: 4.7, sales: 28, pe_range: 25, pb_range: 2.5 },
            '2881': { name: '富邦金', eps: 8.0, nav: 65, dividend: 3.0, sales: 0, pe_range: 10, pb_range: 1.1 },
            '2882': { name: '國泰金', eps: 6.5, nav: 55, dividend: 2.5, sales: 0, pe_range: 10, pb_range: 0.9 },
            '2886': { name: '兆豐金', eps: 2.4, nav: 24, dividend: 1.8, sales: 0, pe_range: 15, pb_range: 1.3 },
            '1101': { name: '台泥', eps: 1.5, nav: 28, dividend: 1.0, sales: 15, pe_range: 20, pb_range: 1.1 },
            '0050': { name: '元大台灣50', eps: 0, nav: 0, dividend: 4.5, sales: 0, pe_range: 0, pb_range: 0 }
        };

        let currentFoundStock = null;

        // 格式化貨幣
        function formatCurrency(val) {
            const num = parseFloat(val);
            if (isNaN(num) || !isFinite(num)) return '---';
            return new Intl.NumberFormat('zh-TW', { style: 'currency', currency: 'TWD' }).format(num);
        }

        // Tab 切換邏輯
        function switchTab(tabId) {
            // 隱藏所有內容
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.getElementById('content-' + tabId).classList.add('active');

            // 更新按鈕樣式
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.className = 'tab-btn flex-1 min-w-[120px] py-4 px-2 text-sm font-medium flex flex-col items-center gap-2 transition-colors duration-200 text-slate-500 hover:text-slate-700 hover:bg-slate-50';
            });
            const activeBtn = document.getElementById('tab-btn-' + tabId);
            activeBtn.className = 'tab-btn flex-1 min-w-[120px] py-4 px-2 text-sm font-medium flex flex-col items-center gap-2 transition-colors duration-200 text-blue-600 border-b-2 border-blue-600 bg-blue-50';
        }

        // 搜尋邏輯
        document.getElementById('search-input').addEventListener('input', function(e) {
            const query = e.target.value.trim();
            const matchDiv = document.getElementById('match-found');
            const noMatchDiv = document.getElementById('no-match');
            const nameDisplay = document.getElementById('stock-name-display');

            if (MOCK_STOCK_DB[query]) {
                const stock = MOCK_STOCK_DB[query];
                currentFoundStock = { ...stock, code: query };
                nameDisplay.textContent = `${stock.name} (${query})`;
                matchDiv.classList.remove('hidden');
                noMatchDiv.classList.add('hidden');
            } else if (query.length >= 4) {
                currentFoundStock = null;
                matchDiv.classList.add('hidden');
                noMatchDiv.classList.remove('hidden');
            } else {
                currentFoundStock = null;
                matchDiv.classList.add('hidden');
                noMatchDiv.classList.add('hidden');
            }
        });

        // 自動帶入數據
        function autoFill() {
            if (!currentFoundStock) return;
            const data = currentFoundStock;

            // 填入各欄位 (若 input 存在)
            setValue('pe-eps', data.eps);
            setValue('pe-ratio', data.pe_range);
            
            setValue('pb-nav', data.nav);
            setValue('pb-ratio', data.pb_range);

            setValue('ps-sales', data.sales);
            // PS Ratio 預設給一個參考值，例如 4
            setValue('ps-ratio', 4);

            setValue('graham-eps', data.eps);
            setValue('graham-nav', data.nav);

            setValue('ddm-dividend', data.dividend);
            setValue('ddm-rate', 8);
            setValue('ddm-growth', 3);

            // 觸發所有計算
            calculatePE();
            calculatePB();
            calculatePS();
            calculateGraham();
            calculateDDM();
        }

        function setValue(id, val) {
            const el = document.getElementById(id);
            if (el) el.value = val;
        }

        // --- 計算邏輯 ---

        function calculatePE() {
            const eps = document.getElementById('pe-eps').value;
            const ratio = document.getElementById('pe-ratio').value;
            const res = parseFloat(eps) * parseFloat(ratio);
            document.getElementById('pe-result').textContent = formatCurrency(res);
        }

        function calculatePB() {
            const nav = document.getElementById('pb-nav').value;
            const ratio = document.getElementById('pb-ratio').value;
            const res = parseFloat(nav) * parseFloat(ratio);
            document.getElementById('pb-result').textContent = formatCurrency(res);
        }

        function calculatePS() {
            const sales = document.getElementById('ps-sales').value;
            const ratio = document.getElementById('ps-ratio').value;
            const res = parseFloat(sales) * parseFloat(ratio);
            document.getElementById('ps-result').textContent = formatCurrency(res);
        }

        function calculateGraham() {
            const eps = parseFloat(document.getElementById('graham-eps').value);
            const nav = parseFloat(document.getElementById('graham-nav').value);
            
            if (isNaN(eps) || isNaN(nav)) {
                document.getElementById('graham-result').textContent = '---';
                return;
            }

            const val = 22.5 * eps * nav;
            if (val < 0) {
                document.getElementById('graham-result').textContent = "無法計算";
            } else {
                document.getElementById('graham-result').textContent = formatCurrency(Math.sqrt(val));
            }
        }

        function calculateDDM() {
            const d1 = parseFloat(document.getElementById('ddm-dividend').value);
            const r = parseFloat(document.getElementById('ddm-rate').value) / 100;
            const g = parseFloat(document.getElementById('ddm-growth').value) / 100;

            if (isNaN(d1) || isNaN(r) || isNaN(g)) {
                document.getElementById('ddm-result').textContent = '---';
                return;
            }

            if (r <= g) {
                document.getElementById('ddm-result').textContent = "折現率需大於成長率";
                return;
            }

            const res = d1 / (r - g);
            document.getElementById('ddm-result').textContent = formatCurrency(res);
        }

    </script>
</body>
</html>
